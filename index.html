<!DOCTYPE html>
<html lang="fr">
<head>
    <base target="_self">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AfriFleet - Gestion de Flotte</title>
    <meta name="description" content="Application de gestion de flotte africaine, simple et mobile-first. Zéro papier, utilisation hors ligne.">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: '#6366f1',
                            50: '#eef2ff',
                            100: '#e0e7ff',
                            500: '#6366f1',
                            600: '#4f46e5',
                            700: '#4338ca',
                        },
                        secondary: {
                            DEFAULT: '#10b981',
                            50: '#ecfdf5',
                            100: '#d1fae5',
                            500: '#10b981',
                            600: '#059669',
                            700: '#047857',
                        },
                        accent: {
                            DEFAULT: '#f97316',
                            50: '#fff7ed',
                            100: '#ffedd5',
                            500: '#f97316',
                            600: '#ea580c',
                        },
                        warning: '#f59e0b',
                        danger: '#ef4444',
                        success: '#10b981',
                        light: '#f8fafc',
                        dark: '#1e293b'
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif']
                    },
                    spacing: {
                        '18': '4.5rem',
                        '88': '22rem'
                    },
                    backdropBlur: {
                        xs: '2px',
                    }
                }
            }
        }
    </script>
    <style>
        :root {
            --gradient-primary: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            --gradient-secondary: linear-gradient(135deg, #10b981 0%, #059669 100%);
            --gradient-accent: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            --shadow-glow-primary: 0 10px 40px -10px rgba(99, 102, 241, 0.4);
            --shadow-glow-secondary: 0 10px 40px -10px rgba(16, 185, 129, 0.4);
        }

        .offline-indicator {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 6px;
            box-shadow: 0 0 10px currentColor;
        }

        .vehicle-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .vehicle-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: var(--shadow-glow-primary);
            border-color: rgba(99, 102, 241, 0.3);
        }

        .checklist-item {
            border-left: 4px solid transparent;
            transition: all 0.2s ease;
        }

        .checklist-item.checked {
            border-left-color: #10b981;
            background: linear-gradient(90deg, rgba(16, 185, 129, 0.1) 0%, rgba(255, 255, 255, 0.8) 100%);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
        }

        .gradient-primary {
            background: var(--gradient-primary);
        }

        .gradient-secondary {
            background: var(--gradient-secondary);
        }

        .gradient-accent {
            background: var(--gradient-accent);
        }

        .btn-gradient {
            background: var(--gradient-primary);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .btn-gradient::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .btn-gradient:hover::before {
            left: 100%;
        }

        .btn-gradient:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-glow-primary);
        }

        .nav-btn.active {
            color: #6366f1;
            position: relative;
        }

        .nav-btn.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            background: var(--gradient-primary);
            border-radius: 50%;
            animation: float 2s ease-in-out infinite;
        }

        .quick-action {
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px);
        }

        .quick-action:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.15);
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.7) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 15px 35px -5px rgba(0, 0, 0, 0.1);
        }

        .role-tab {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .role-tab.active {
            background: var(--gradient-primary);
            color: white;
            box-shadow: 0 4px 15px -3px rgba(99, 102, 241, 0.4);
        }

        .sidebar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-right: 1px solid rgba(0, 0, 0, 0.1);
        }

        @media (max-width: 767px) {
            .sidebar {
                display: none;
            }
        }

        @media (min-width: 1024px) {
            .bottom-nav {
                display: none;
            }
        }

        .alert-card {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(245, 158, 11, 0.05) 100%);
            border: 1px solid rgba(245, 158, 11, 0.3);
            backdrop-filter: blur(10px);
        }

        .vehicle-image {
            transition: transform 0.3s ease;
        }

        .vehicle-card:hover .vehicle-image {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 font-sans">
    <!-- App Container -->
    <div class="w-full min-h-screen" id="app-container">
        <!-- Sidebar Desktop (caché sur mobile) -->
        <aside class="sidebar fixed left-0 top-0 h-full w-64 z-20 hidden lg:block">
            <div class="p-6">
                <div class="flex items-center space-x-3 mb-8">
                    <div class="w-12 h-12 gradient-primary rounded-xl flex items-center justify-center shadow-lg">
                        <i class="fas fa-truck text-white text-xl"></i>
                    </div>
                    <h1 class="text-xl font-bold text-gray-800">AfriFleet</h1>
                </div>
                
                <nav class="space-y-2">
                    <button class="sidebar-nav-btn w-full text-left px-4 py-3 rounded-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-all flex items-center space-x-3 active" data-screen="manager-dashboard">
                        <i class="fas fa-home w-5"></i>
                        <span>Accueil</span>
                    </button>
                    <button class="sidebar-nav-btn w-full text-left px-4 py-3 rounded-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-all flex items-center space-x-3" data-screen="vehicle-detail">
                        <i class="fas fa-truck w-5"></i>
                        <span>Véhicules</span>
                    </button>
                    <button class="sidebar-nav-btn w-full text-left px-4 py-3 rounded-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-all flex items-center space-x-3" data-screen="safety-checklist">
                        <i class="fas fa-clipboard-check w-5"></i>
                        <span>Checklist</span>
                    </button>
                    <button class="sidebar-nav-btn w-full text-left px-4 py-3 rounded-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-all flex items-center space-x-3" data-screen="fuel-entry">
                        <i class="fas fa-gas-pump w-5"></i>
                        <span>Carburant</span>
                    </button>
                    <button class="sidebar-nav-btn w-full text-left px-4 py-3 rounded-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-all flex items-center space-x-3" data-screen="ai-reports">
                        <i class="fas fa-chart-bar w-5"></i>
                        <span>Rapports</span>
                    </button>
                </nav>
            </div>
        </aside>

        <!-- Main Content Area -->
        <div class="lg:ml-64">
            <!-- Header avec statut hors ligne -->
            <header class="sticky top-0 z-10 glass-card border-b border-gray-200/50">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4">
                    <div class="flex justify-between items-center">
                        <div class="flex items-center space-x-2 sm:space-x-3">
                            <div class="w-8 h-8 sm:w-10 sm:h-10 gradient-primary rounded-lg sm:rounded-xl flex items-center justify-center shadow-lg">
                                <i class="fas fa-truck text-white text-sm sm:text-base"></i>
                            </div>
                            <h1 class="text-lg sm:text-xl font-bold text-gray-800">AfriFleet</h1>
                        </div>
                        <div class="flex items-center space-x-3 sm:space-x-4">
                            <div class="flex items-center text-xs sm:text-sm">
                                <div class="status-dot bg-success offline-indicator"></div>
                                <span class="text-gray-600 hidden sm:inline">Hors ligne</span>
                            </div>
                            <button class="w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center hover:shadow-lg transition-all">
                                <i class="fas fa-user text-indigo-600 text-sm sm:text-base"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Navigation par rôle -->
                    <div class="mt-3 sm:mt-4">
                        <div class="flex space-x-1 sm:space-x-2">
                            <button class="role-tab flex-1 py-2 px-2 sm:px-4 text-center rounded-lg text-xs sm:text-sm font-medium text-gray-600 active" data-role="manager">
                                <i class="fas fa-user-tie mr-1"></i> <span class="hidden sm:inline">Gestionnaire</span><span class="sm:hidden">Gestion</span>
                            </button>
                            <button class="role-tab flex-1 py-2 px-2 sm:px-4 text-center rounded-lg text-xs sm:text-sm font-medium text-gray-600" data-role="driver">
                                <i class="fas fa-user mr-1"></i> <span class="hidden sm:inline">Conducteur</span><span class="sm:hidden">Conduite</span>
                            </button>
                            <button class="role-tab flex-1 py-2 px-2 sm:px-4 text-center rounded-lg text-xs sm:text-sm font-medium text-gray-600" data-role="workshop">
                                <i class="fas fa-tools mr-1"></i> <span class="hidden sm:inline">Atelier</span><span class="sm:hidden">Atelier</span>
                            </button>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Contenu principal -->
            <main class="pb-20 lg:pb-8">
                <div class="max-w-md sm:max-w-2xl md:max-w-4xl lg:max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8">
                    <!-- Écran de connexion (par défaut) -->
                    <div id="login-screen" class="max-w-md mx-auto">
                        <div class="text-center mb-8 mt-4 sm:mt-8">
                            <div class="w-20 h-20 sm:w-24 sm:h-24 gradient-primary rounded-2xl sm:rounded-3xl flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-xl">
                                <i class="fas fa-truck-moving text-white text-3xl sm:text-4xl"></i>
                            </div>
                            <h2 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-2">AfriFleet</h2>
                            <p class="text-gray-600 text-sm sm:text-base">Gestion de flotte africaine<br>Zéro papier • Hors ligne • Sécurisé</p>
                        </div>
                        
                        <div class="glass-card rounded-2xl p-6 sm:p-8 space-y-4 sm:space-y-5">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Rôle</label>
                                <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all">
                                    <option value="">Sélectionnez votre rôle</option>
                                    <option value="manager">Gestionnaire de flotte</option>
                                    <option value="driver">Conducteur</option>
                                    <option value="workshop">Technicien atelier</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Identifiant</label>
                                <input type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all" placeholder="Votre identifiant">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Mot de passe</label>
                                <input type="password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all" placeholder="Votre mot de passe">
                            </div>
                            
                            <div class="flex items-center">
                                <input type="checkbox" id="remember" class="h-4 w-4 text-indigo-600 rounded focus:ring-indigo-500">
                                <label for="remember" class="ml-2 text-sm text-gray-600">Rester connecté</label>
                            </div>
                            
                            <button class="w-full btn-gradient text-white py-3 rounded-lg font-medium mt-4 shadow-lg">
                                <i class="fas fa-sign-in-alt mr-2"></i>Se connecter
                            </button>
                            
                            <div class="text-center text-xs sm:text-sm text-gray-500 mt-4">
                                <p>Application fonctionnant hors ligne<br>Données synchronisées automatiquement</p>
                            </div>
                        </div>
                    </div>

                    <!-- Dashboard Gestionnaire (caché par défaut) -->
                    <div id="manager-dashboard" class="hidden">
                        <div class="mb-6 sm:mb-8">
                            <h2 class="text-xl sm:text-2xl font-bold text-gray-800 mb-4 sm:mb-6">Tableau de bord</h2>
                            
                            <!-- Alertes -->
                            <div class="alert-card rounded-xl sm:rounded-2xl p-4 sm:p-6 mb-4 sm:mb-6">
                                <div class="flex items-center mb-3">
                                    <i class="fas fa-exclamation-triangle text-warning mr-2 text-lg sm:text-xl"></i>
                                    <h3 class="font-semibold text-warning text-sm sm:text-base">Alertes en attente</h3>
                                </div>
                                <div class="space-y-2 sm:space-y-3">
                                    <div class="flex items-center justify-between flex-wrap gap-2">
                                        <span class="text-xs sm:text-sm">Véhicule #AF-234 maintenance retardée</span>
                                        <span class="text-xs bg-warning text-white px-2 py-1 rounded-full font-medium">2 jours</span>
                                    </div>
                                    <div class="flex items-center justify-between flex-wrap gap-2">
                                        <span class="text-xs sm:text-sm">Assurance #V-567 expire bientôt</span>
                                        <span class="text-xs bg-danger text-white px-2 py-1 rounded-full font-medium">7 jours</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Stats rapides -->
                            <div class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8">
                                <div class="stat-card rounded-xl sm:rounded-2xl p-4 sm:p-5">
                                    <div class="text-2xl sm:text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent">24</div>
                                    <div class="text-xs sm:text-sm text-gray-600 mt-1">Véhicules actifs</div>
                                </div>
                                <div class="stat-card rounded-xl sm:rounded-2xl p-4 sm:p-5">
                                    <div class="text-2xl sm:text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent">18</div>
                                    <div class="text-xs sm:text-sm text-gray-600 mt-1">En service</div>
                                </div>
                                <div class="stat-card rounded-xl sm:rounded-2xl p-4 sm:p-5">
                                    <div class="text-2xl sm:text-3xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent">3</div>
                                    <div class="text-xs sm:text-sm text-gray-600 mt-1">En maintenance</div>
                                </div>
                                <div class="stat-card rounded-xl sm:rounded-2xl p-4 sm:p-5">
                                    <div class="text-2xl sm:text-3xl font-bold bg-gradient-to-r from-red-600 to-rose-600 bg-clip-text text-transparent">2</div>
                                    <div class="text-xs sm:text-sm text-gray-600 mt-1">Hors service</div>
                                </div>
                            </div>
                            
                            <!-- Actions rapides -->
                            <div class="mb-6 sm:mb-8">
                                <h3 class="font-semibold text-gray-700 mb-3 sm:mb-4 text-sm sm:text-base">Actions rapides</h3>
                                <div class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4">
                                    <button class="quick-action gradient-primary/10 text-indigo-600 p-4 sm:p-5 rounded-xl sm:rounded-2xl flex flex-col items-center justify-center">
                                        <i class="fas fa-truck mb-2 text-xl sm:text-2xl"></i>
                                        <span class="text-xs sm:text-sm font-medium">Nouveau véhicule</span>
                                    </button>
                                    <button class="quick-action gradient-secondary/10 text-green-600 p-4 sm:p-5 rounded-xl sm:rounded-2xl flex flex-col items-center justify-center">
                                        <i class="fas fa-user-plus mb-2 text-xl sm:text-2xl"></i>
                                        <span class="text-xs sm:text-sm font-medium">Affecter</span>
                                    </button>
                                    <button class="quick-action bg-amber-50 text-amber-600 p-4 sm:p-5 rounded-xl sm:rounded-2xl flex flex-col items-center justify-center">
                                        <i class="fas fa-clipboard-check mb-2 text-xl sm:text-2xl"></i>
                                        <span class="text-xs sm:text-sm font-medium">Checklist</span>
                                    </button>
                                    <button class="quick-action bg-teal-50 text-teal-600 p-4 sm:p-5 rounded-xl sm:rounded-2xl flex flex-col items-center justify-center">
                                        <i class="fas fa-chart-bar mb-2 text-xl sm:text-2xl"></i>
                                        <span class="text-xs sm:text-sm font-medium">Rapports</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Liste des véhicules -->
                        <div>
                            <div class="flex justify-between items-center mb-4 sm:mb-6">
                                <h3 class="font-semibold text-gray-700 text-base sm:text-lg">Flotte véhicules</h3>
                                <button class="text-indigo-600 text-xs sm:text-sm font-medium hover:text-indigo-700 transition-colors">
                                    <i class="fas fa-filter mr-1"></i>Filtrer
                                </button>
                            </div>
                            
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6" id="vehicle-list">
                                <!-- Les véhicules seront générés par JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Fiche Véhicule (caché) -->
                    <div id="vehicle-detail" class="hidden max-w-4xl mx-auto">
                        <div class="mb-4 sm:mb-6">
                            <button class="back-btn text-indigo-600 hover:text-indigo-700 font-medium transition-colors">
                                <i class="fas fa-arrow-left mr-2"></i>Retour
                            </button>
                        </div>
                        
                        <div class="glass-card rounded-xl sm:rounded-2xl border border-gray-200/50 p-4 sm:p-6 mb-4 sm:mb-6">
                            <div class="flex flex-col sm:flex-row justify-between items-start mb-4 sm:mb-6 gap-4">
                                <div class="flex-1">
                                    <div class="flex items-center mb-2">
                                        <span class="status-dot bg-success mr-2"></span>
                                        <h2 class="text-xl sm:text-2xl font-bold text-gray-800">Toyota Hilux</h2>
                                    </div>
                                    <div class="text-gray-600 text-sm sm:text-base">#AF-234 • 2020 • Diesel</div>
                                </div>
                                <div class="text-right">
                                    <div class="text-2xl sm:text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent">245,789 km</div>
                                    <div class="text-xs sm:text-sm text-gray-500">Kilométrage</div>
                                </div>
                            </div>
                            
                            <img src="https://picsum.photos/400/200?random=5" alt="Toyota Hilux" class="w-full h-48 sm:h-64 object-cover rounded-lg mb-4 sm:mb-6 vehicle-image" loading="lazy">
                            
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6">
                                <div class="bg-gradient-to-br from-gray-50 to-gray-100 p-3 sm:p-4 rounded-lg">
                                    <div class="text-xs sm:text-sm text-gray-500">Conducteur</div>
                                    <div class="font-medium text-sm sm:text-base">Moussa Diallo</div>
                                </div>
                                <div class="bg-gradient-to-br from-gray-50 to-gray-100 p-3 sm:p-4 rounded-lg">
                                    <div class="text-xs sm:text-sm text-gray-500">Dernier contrôle</div>
                                    <div class="font-medium text-sm sm:text-base">15/11/2023</div>
                                </div>
                            </div>
                            
                            <div class="space-y-3 sm:space-y-4">
                                <button class="w-full btn-gradient text-white py-3 rounded-lg font-medium shadow-lg">
                                    <i class="fas fa-exchange-alt mr-2"></i>Changer conducteur
                                </button>
                                <button class="w-full border-2 border-indigo-500 text-indigo-600 py-3 rounded-lg font-medium hover:bg-indigo-50 transition-all">
                                    <i class="fas fa-history mr-2"></i>Voir historique
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Checklist Sécurité (caché) -->
                    <div id="safety-checklist" class="hidden max-w-2xl mx-auto">
                        <div class="mb-4 sm:mb-6">
                            <button class="back-btn text-indigo-600 hover:text-indigo-700 font-medium transition-colors">
                                <i class="fas fa-arrow-left mr-2"></i>Retour
                            </button>
                        </div>
                        
                        <div class="glass-card rounded-xl sm:rounded-2xl border border-gray-200/50 p-4 sm:p-6">
                            <h2 class="text-xl sm:text-2xl font-bold text-gray-800 mb-4 sm:mb-6">Checklist sécurité</h2>
                            <div class="text-xs sm:text-sm text-gray-600 mb-6">Véhicule #AF-234 • 26/11/2023</div>
                            
                            <div class="space-y-3 sm:space-y-4 mb-6 sm:mb-8" id="checklist-items">
                                <!-- Items générés par JS -->
                            </div>
                            
                            <div class="mb-6 sm:mb-8">
                                <div class="flex justify-between items-center mb-3 sm:mb-4">
                                    <h3 class="font-medium text-gray-700 text-sm sm:text-base">Photo du véhicule</h3>
                                    <button class="text-indigo-600 text-xs sm:text-sm hover:text-indigo-700 transition-colors">
                                        <i class="fas fa-camera mr-1"></i>Prendre photo
                                    </button>
                                </div>
                                <div class="border-2 border-dashed border-gray-300 rounded-lg h-32 sm:h-40 flex items-center justify-center hover:border-indigo-400 transition-colors cursor-pointer">
                                    <i class="fas fa-camera text-gray-400 text-3xl sm:text-4xl"></i>
                                </div>
                            </div>
                            
                            <div class="mb-6 sm:mb-8">
                                <h3 class="font-medium text-gray-700 mb-3 sm:mb-4 text-sm sm:text-base">Signature numérique</h3>
                                <div class="border-2 border-dashed border-gray-300 rounded-lg h-24 sm:h-32 flex items-center justify-center hover:border-indigo-400 transition-colors cursor-pointer">
                                    <div class="text-gray-400 text-center">
                                        <i class="fas fa-signature text-2xl sm:text-3xl mb-2"></i>
                                        <div class="text-xs sm:text-sm">Signer ici</div>
                                    </div>
                                </div>
                            </div>
                            
                            <button class="w-full gradient-secondary text-white py-3 sm:py-4 rounded-lg font-medium shadow-lg hover:shadow-xl transition-all">
                                <i class="fas fa-check-circle mr-2"></i>Valider checklist
                            </button>
                        </div>
                    </div>

                    <!-- Saisie Carburant (caché) -->
                    <div id="fuel-entry" class="hidden max-w-2xl mx-auto">
                        <div class="mb-4 sm:mb-6">
                            <button class="back-btn text-indigo-600 hover:text-indigo-700 font-medium transition-colors">
                                <i class="fas fa-arrow-left mr-2"></i>Retour
                            </button>
                        </div>
                        
                        <div class="glass-card rounded-xl sm:rounded-2xl border border-gray-200/50 p-4 sm:p-6">
                            <h2 class="text-xl sm:text-2xl font-bold text-gray-800 mb-6 sm:mb-8">Saisie carburant</h2>
                            
                            <div class="space-y-4 sm:space-y-5">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Véhicule</label>
                                    <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all">
                                        <option>Toyota Hilux (#AF-234)</option>
                                        <option>Mercedes Sprinter (#AF-235)</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Quantité (litres)</label>
                                    <input type="number" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all" placeholder="0">
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Prix unitaire (FCFA)</label>
                                    <input type="number" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all" placeholder="0">
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Kilométrage actuel</label>
                                    <input type="number" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all" placeholder="0">
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Photo du ticket</label>
                                    <div class="border-2 border-dashed border-gray-300 rounded-lg h-32 sm:h-40 flex items-center justify-center hover:border-indigo-400 transition-colors cursor-pointer">
                                        <i class="fas fa-receipt text-gray-400 text-3xl sm:text-4xl"></i>
                                    </div>
                                </div>
                                
                                <button class="w-full btn-gradient text-white py-3 sm:py-4 rounded-lg font-medium shadow-lg mt-4 sm:mt-6">
                                    <i class="fas fa-save mr-2"></i>Enregistrer
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Rapports IA (caché) -->
                    <div id="ai-reports" class="hidden max-w-4xl mx-auto">
                        <div class="mb-4 sm:mb-6">
                            <button class="back-btn text-indigo-600 hover:text-indigo-700 font-medium transition-colors">
                                <i class="fas fa-arrow-left mr-2"></i>Retour
                            </button>
                        </div>
                        
                        <div class="glass-card rounded-xl sm:rounded-2xl border border-gray-200/50 p-4 sm:p-6">
                            <h2 class="text-xl sm:text-2xl font-bold text-gray-800 mb-6 sm:mb-8">Rapports intelligents</h2>
                            
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8">
                                <div class="bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-100 rounded-xl sm:rounded-2xl p-4 sm:p-6">
                                    <div class="flex items-start mb-3">
                                        <i class="fas fa-robot text-blue-600 mt-1 mr-3 text-xl sm:text-2xl"></i>
                                        <div>
                                            <h3 class="font-semibold text-blue-800 text-sm sm:text-base mb-1">Analyse mensuelle</h3>
                                            <p class="text-xs sm:text-sm text-blue-700">Consommation réduite de 8% ce mois. Recommandation : vérifier pneus véhicules #AF-234, #AF-237.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-gradient-to-br from-green-50 to-emerald-50 border border-green-100 rounded-xl sm:rounded-2xl p-4 sm:p-6">
                                    <div class="flex items-start mb-3">
                                        <i class="fas fa-chart-line text-green-600 mt-1 mr-3 text-xl sm:text-2xl"></i>
                                        <div>
                                            <h3 class="font-semibold text-green-800 text-sm sm:text-base mb-1">Tendances sécurité</h3>
                                            <p class="text-xs sm:text-sm text-green-700">Amélioration de 15% sur les checklists. Points critiques : feux stop, pression pneus.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-100 rounded-xl sm:rounded-2xl p-4 sm:p-6 lg:col-span-2">
                                    <div class="flex items-start mb-3">
                                        <i class="fas fa-cogs text-purple-600 mt-1 mr-3 text-xl sm:text-2xl"></i>
                                        <div>
                                            <h3 class="font-semibold text-purple-800 text-sm sm:text-base mb-1">Maintenance prédictive</h3>
                                            <p class="text-xs sm:text-sm text-purple-700">Véhicule #AF-239 : vidange recommandée dans 500km. Périodicité optimale : 10,000km.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <button class="w-full btn-gradient text-white py-3 sm:py-4 rounded-lg font-medium shadow-lg">
                                <i class="fas fa-download mr-2"></i>Exporter rapport complet
                            </button>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Navigation bas (mobile uniquement) -->
            <nav class="bottom-nav fixed bottom-0 left-0 right-0 glass-card border-t border-gray-200/50 max-w-md mx-auto">
                <div class="flex justify-around py-3">
                    <button class="nav-btn flex flex-col items-center text-gray-500 hover:text-indigo-600 transition-colors active" data-screen="manager-dashboard">
                        <i class="fas fa-home text-lg mb-1"></i>
                        <span class="text-xs">Accueil</span>
                    </button>
                    <button class="nav-btn flex flex-col items-center text-gray-500 hover:text-indigo-600 transition-colors" data-screen="vehicle-detail">
                        <i class="fas fa-truck text-lg mb-1"></i>
                        <span class="text-xs">Véhicules</span>
                    </button>
                    <button class="nav-btn flex flex-col items-center text-gray-500 hover:text-indigo-600 transition-colors" data-screen="safety-checklist">
                        <i class="fas fa-clipboard-check text-lg mb-1"></i>
                        <span class="text-xs">Checklist</span>
                    </button>
                    <button class="nav-btn flex flex-col items-center text-gray-500 hover:text-indigo-600 transition-colors" data-screen="fuel-entry">
                        <i class="fas fa-gas-pump text-lg mb-1"></i>
                        <span class="text-xs">Carburant</span>
                    </button>
                    <button class="nav-btn flex flex-col items-center text-gray-500 hover:text-indigo-600 transition-colors" data-screen="ai-reports">
                        <i class="fas fa-chart-bar text-lg mb-1"></i>
                        <span class="text-xs">Rapports</span>
                    </button>
                </div>
            </nav>
        </div>
    </div>

    <script>
        // Données de l'application
        const vehicles = [
            { 
                "id": "AF-234", 
                "name": "Toyota Hilux", 
                "status": "active", 
                "driver": "Moussa Diallo", 
                "mileage": "245,789 km",
                "lastCheck": "15/11/2023",
                "image": "https://picsum.photos/400/200?random=5"
            },
            { 
                "id": "AF-235", 
                "name": "Mercedes Sprinter", 
                "status": "maintenance", 
                "driver": "Aminata Sow", 
                "mileage": "189,456 km",
                "lastCheck": "10/11/2023",
                "image": "https://picsum.photos/400/200?random=6"
            },
            { 
                "id": "AF-236", 
                "name": "Mitsubishi L200", 
                "status": "active", 
                "driver": "Ibrahim Traoré", 
                "mileage": "156,234 km",
                "lastCheck": "20/11/2023",
                "image": "https://picsum.photos/400/200?random=7"
            },
            { 
                "id": "AF-237", 
                "name": "Toyota Hiace", 
                "status": "inactive", 
                "driver": "Non affecté", 
                "mileage": "301,567 km",
                "lastCheck": "05/11/2023",
                "image": "https://picsum.photos/400/200?random=8"
            }
        ];

        const checklistItems = [
            { "id": 1, "text": "Pression des pneus", "checked": true },
            { "id": 2, "text": "Niveau d'huile moteur", "checked": true },
            { "id": 3, "text": "Liquide de refroidissement", "checked": false },
            { "id": 4, "text": "Feux avant et arrière", "checked": true },
            { "id": 5, "text": "Freins et frein à main", "checked": false },
            { "id": 6, "text": "Ceintures de sécurité", "checked": true },
            { "id": 7, "text": "Extincteur présent", "checked": true },
            { "id": 8, "text": "Trousse de secours", "checked": false }
        ];

        // Éléments DOM
        const appContainer = document.getElementById("app-container");
        const loginScreen = document.getElementById("login-screen");
        const managerDashboard = document.getElementById("manager-dashboard");
        const vehicleDetail = document.getElementById("vehicle-detail");
        const safetyChecklist = document.getElementById("safety-checklist");
        const fuelEntry = document.getElementById("fuel-entry");
        const aiReports = document.getElementById("ai-reports");
        const vehicleList = document.getElementById("vehicle-list");
        const checklistContainer = document.getElementById("checklist-items");
        const roleTabs = document.querySelectorAll(".role-tab");
        const navButtons = document.querySelectorAll(".nav-btn");
        const sidebarNavButtons = document.querySelectorAll(".sidebar-nav-btn");
        const backButtons = document.querySelectorAll(".back-btn");
        const quickActions = document.querySelectorAll(".quick-action");

        // Fonctions d'affichage
        function showScreen(screenId) {
            // Cacher tous les écrans
            [loginScreen, managerDashboard, vehicleDetail, safetyChecklist, fuelEntry, aiReports].forEach(screen => {
                screen.classList.add("hidden");
            });
            
            // Afficher l'écran demandé
            document.getElementById(screenId).classList.remove("hidden");
            
            // Mettre à jour la navigation mobile
            navButtons.forEach(btn => {
                if (btn.dataset.screen === screenId) {
                    btn.classList.remove("text-gray-500");
                    btn.classList.add("text-indigo-600", "active");
                } else {
                    btn.classList.remove("text-indigo-600", "active");
                    btn.classList.add("text-gray-500");
                }
            });

            // Mettre à jour la navigation sidebar
            sidebarNavButtons.forEach(btn => {
                if (btn.dataset.screen === screenId) {
                    btn.classList.remove("text-gray-700");
                    btn.classList.add("bg-indigo-50", "text-indigo-600", "active");
                } else {
                    btn.classList.remove("bg-indigo-50", "text-indigo-600", "active");
                    btn.classList.add("text-gray-700");
                }
            });
        }

        // Générer la liste des véhicules
        function generateVehicleList() {
            vehicleList.innerHTML = "";
            vehicles.forEach(vehicle => {
                let statusColor = "bg-success";
                let statusText = "En service";
                let statusTextColor = "text-green-600";
                
                if (vehicle.status === "maintenance") {
                    statusColor = "bg-warning";
                    statusText = "Maintenance";
                    statusTextColor = "text-amber-600";
                } else if (vehicle.status === "inactive") {
                    statusColor = "bg-danger";
                    statusText = "Hors service";
                    statusTextColor = "text-red-600";
                }
                
                const vehicleCard = document.createElement("div");
                vehicleCard.className = "vehicle-card rounded-xl sm:rounded-2xl p-4 sm:p-5";
                vehicleCard.innerHTML = `
                    <div class="flex justify-between items-start mb-3 sm:mb-4">
                        <div class="flex-1">
                            <div class="flex items-center mb-2">
                                <span class="status-dot ${statusColor}"></span>
                                <h4 class="font-semibold text-gray-800 text-sm sm:text-base">${vehicle.name}</h4>
                            </div>
                            <div class="text-xs sm:text-sm text-gray-600">${vehicle.id} • ${vehicle.driver}</div>
                        </div>
                        <span class="text-xs ${statusTextColor} font-medium px-2 py-1 rounded-full bg-white/80 backdrop-blur-sm">
                            ${statusText}
                        </span>
                    </div>
                    <div class="mb-3">
                        <img src="${vehicle.image}" alt="${vehicle.name}" class="w-full h-32 sm:h-40 object-cover rounded-lg vehicle-image" loading="lazy">
                    </div>
                    <div class="flex flex-col sm:flex-row justify-between gap-2 sm:gap-4 text-xs sm:text-sm">
                        <div>
                            <div class="text-gray-500">Kilométrage</div>
                            <div class="font-medium text-gray-800">${vehicle.mileage}</div>
                        </div>
                        <div>
                            <div class="text-gray-500">Dernier contrôle</div>
                            <div class="font-medium text-gray-800">${vehicle.lastCheck}</div>
                        </div>
                        <button class="view-detail text-indigo-600 font-medium hover:text-indigo-700 transition-colors mt-2 sm:mt-0 text-left sm:text-right">
                            Détails <i class="fas fa-chevron-right ml-1"></i>
                        </button>
                    </div>
                `;
                vehicleList.appendChild(vehicleCard);
            });
            
            // Ajouter les événements pour les boutons de détails
            document.querySelectorAll(".view-detail").forEach(btn => {
                btn.addEventListener("click", function() {
                    showScreen("vehicle-detail");
                });
            });
        }

        // Générer la checklist
        function generateChecklist() {
            checklistContainer.innerHTML = "";
            checklistItems.forEach(item => {
                const itemDiv = document.createElement("div");
                itemDiv.className = `checklist-item glass-card p-3 sm:p-4 rounded-lg ${item.checked ? "checked" : ""}`;
                itemDiv.innerHTML = `
                    <div class="flex justify-between items-center">
                        <span class="font-medium text-sm sm:text-base">${item.text}</span>
                        <button class="check-btn w-8 h-8 sm:w-10 sm:h-10 rounded-full border-2 transition-all ${item.checked ? "gradient-secondary border-green-500 text-white shadow-lg" : "border-gray-300 text-gray-400 hover:border-indigo-400"}" data-id="${item.id}">
                            <i class="fas fa-check text-xs sm:text-sm"></i>
                        </button>
                    </div>
                `;
                checklistContainer.appendChild(itemDiv);
            });
            
            // Ajouter les événements pour les cases à cocher
            document.querySelectorAll(".check-btn").forEach(btn => {
                btn.addEventListener("click", function() {
                    const itemId = parseInt(this.dataset.id);
                    const item = checklistItems.find(i => i.id === itemId);
                    if (item) {
                        item.checked = !item.checked;
                        generateChecklist();
                    }
                });
            });
        }

        // Initialisation
        function initApp() {
            // Simuler une connexion réussie
            const loginButton = loginScreen.querySelector("button");
            loginButton.addEventListener("click", function() {
                showScreen("manager-dashboard");
            });
            
            // Générer les listes
            generateVehicleList();
            generateChecklist();
            
            // Navigation par rôle
            roleTabs.forEach(tab => {
                tab.addEventListener("click", function() {
                    roleTabs.forEach(t => {
                        t.classList.remove("active", "bg-indigo-600", "text-white");
                        t.classList.add("text-gray-600");
                    });
                    this.classList.remove("text-gray-600");
                    this.classList.add("active");
                    
                    // Simuler le changement de rôle
                    showScreen("manager-dashboard");
                });
            });
            
            // Navigation bas (mobile)
            navButtons.forEach(btn => {
                btn.addEventListener("click", function() {
                    showScreen(this.dataset.screen);
                });
            });

            // Navigation sidebar (desktop)
            sidebarNavButtons.forEach(btn => {
                btn.addEventListener("click", function() {
                    showScreen(this.dataset.screen);
                });
            });
            
            // Boutons retour
            backButtons.forEach(btn => {
                btn.addEventListener("click", function() {
                    showScreen("manager-dashboard");
                });
            });
            
            // Actions rapides
            quickActions.forEach(action => {
                action.addEventListener("click", function() {
                    const text = this.querySelector("span").textContent;
                    if (text === "Checklist") {
                        showScreen("safety-checklist");
                    } else if (text === "Rapports") {
                        showScreen("ai-reports");
                    }
                    // Les autres actions pourraient ouvrir des modals
                });
            });
            
            // Simuler le chargement hors ligne
            setTimeout(() => {
                const offlineIndicator = document.querySelector(".offline-indicator");
                if (offlineIndicator) {
                    offlineIndicator.classList.remove("bg-success");
                    offlineIndicator.classList.add("bg-gray-400");
                    const statusText = document.querySelector(".offline-indicator + span");
                    if (statusText) {
                        statusText.textContent = "En ligne";
                    }
                }
            }, 2000);
        }

        // Démarrer l'application
        document.addEventListener("DOMContentLoaded", initApp);
    </script>
</body>
</html>
